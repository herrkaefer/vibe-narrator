# Cursor MCP é…ç½®æŒ‡å—

## âœ… MCP æœåŠ¡å™¨æµ‹è¯•é€šè¿‡

MCP æœåŠ¡å™¨å·²æˆåŠŸæµ‹è¯•ï¼Œ`list_characters` å·¥å…·å¯ä»¥æ­£å¸¸è°ƒç”¨ï¼Œè¿”å›äº† 6 ä¸ªè§’è‰²ã€‚

## ğŸ“‹ åœ¨ Cursor ä¸­é…ç½® MCP æœåŠ¡å™¨

### 1. æ‰¾åˆ° Cursor çš„ MCP é…ç½®æ–‡ä»¶

Cursor çš„ MCP é…ç½®é€šå¸¸åœ¨ä»¥ä¸‹ä½ç½®ä¹‹ä¸€ï¼š

**macOS:**
- `~/Library/Application Support/Cursor/User/settings.json` (å…¨å±€è®¾ç½®)
- æˆ–è€…é€šè¿‡ Cursor Settings UI é…ç½®

### 2. æ·»åŠ  narrator-mcp é…ç½®

åœ¨ Cursor çš„ MCP é…ç½®ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```json
{
  "mcpServers": {
    "narrator-mcp": {
      "command": "uv",
      "args": [
        "run",
        "python",
        "server.py"
      ],
      "cwd": "/Users/herrk/dev-local/vibe-narrator/narrator-mcp",
      "env": {
        "MCP_TRANSPORT": "stdio"
      }
    }
  }
}
```

**é‡è¦æç¤ºï¼š**
- ç¡®ä¿ `cwd` è·¯å¾„æ­£ç¡®ï¼ˆä½¿ç”¨ä½ çš„å®é™…é¡¹ç›®è·¯å¾„ï¼‰
- ç¡®ä¿ `uv` å‘½ä»¤åœ¨ PATH ä¸­å¯ç”¨ï¼ˆå¯é€šè¿‡ `which uv` æ£€æŸ¥ï¼‰

### 3. å¦‚ä½•æŸ¥çœ‹ MCP è¿æ¥çŠ¶æ€

åœ¨ Cursor ä¸­æŸ¥çœ‹ MCP è¿æ¥çŠ¶æ€çš„æ–¹æ³•ï¼š

1. **æŸ¥çœ‹è¾“å‡ºé¢æ¿**ï¼š
   - æ‰“å¼€ View â†’ Output (æˆ– `Cmd+Shift+U`)
   - åœ¨è¾“å‡ºé¢æ¿çš„ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© "MCP" æˆ– "Model Context Protocol"
   - æŸ¥çœ‹æ˜¯å¦æœ‰ narrator-mcp çš„è¿æ¥æ—¥å¿—

2. **æŸ¥çœ‹å‘½ä»¤é¢æ¿**ï¼š
   - æŒ‰ `Cmd+Shift+P` æ‰“å¼€å‘½ä»¤é¢æ¿
   - æœç´¢ "MCP" ç›¸å…³å‘½ä»¤
   - æŸ¥çœ‹å¯ç”¨çš„ MCP å·¥å…·åˆ—è¡¨

3. **åœ¨èŠå¤©ä¸­æµ‹è¯•**ï¼š
   - ç›´æ¥åœ¨ Cursor çš„èŠå¤©ç•Œé¢ä¸­è®© Agent è°ƒç”¨å·¥å…·
   - ä¾‹å¦‚ï¼š`è¯·è°ƒç”¨ list_characters å·¥å…·ï¼Œåˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è§’è‰²`

### 4. æµ‹è¯• MCP å·¥å…·

åœ¨ Cursor çš„èŠå¤©ç•Œé¢ä¸­ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹æŒ‡ä»¤ï¼š

```
è¯·ä½¿ç”¨ narrator-mcp çš„ list_characters å·¥å…·ï¼ŒæŸ¥çœ‹æœ‰å“ªäº›è§’è‰²å¯ç”¨
```

æˆ–è€…ï¼š

```
è°ƒç”¨ list_characters å·¥å…·
```

### 5. å¦‚æœçœ‹ä¸åˆ° MCP æœåŠ¡å™¨

å¦‚æœé…ç½®åä»ç„¶çœ‹ä¸åˆ° MCP æœåŠ¡å™¨ï¼Œè¯·æ£€æŸ¥ï¼š

1. **é‡å¯ Cursor**ï¼šé…ç½®æ›´æ”¹åéœ€è¦é‡å¯ Cursor
2. **æ£€æŸ¥æ—¥å¿—**ï¼šæŸ¥çœ‹ Cursor çš„è¾“å‡ºé¢æ¿ä¸­çš„é”™è¯¯ä¿¡æ¯
3. **éªŒè¯è·¯å¾„**ï¼šç¡®ä¿ `cwd` è·¯å¾„æ­£ç¡®ï¼Œä¸” `server.py` å­˜åœ¨
4. **æ£€æŸ¥ uv**ï¼šè¿è¡Œ `which uv` ç¡®è®¤ uv åœ¨ PATH ä¸­
5. **æµ‹è¯•æœåŠ¡å™¨**ï¼šè¿è¡Œ `cd narrator-mcp && uv run python test_mcp_connection.py` éªŒè¯æœåŠ¡å™¨æ­£å¸¸

### 6. å¯ç”¨çš„ MCP å·¥å…·

é…ç½®æˆåŠŸåï¼Œä»¥ä¸‹å·¥å…·å°†å¯ç”¨ï¼š

1. **`configure`** - é…ç½® API å‡­è¯å’Œè®¾ç½®
   - å‚æ•°ï¼š`api_key`, `model`, `voice`, `mode`, `character`, `base_url`, `default_headers`, `tts_api_key`

2. **`narrate`** - å°†æ–‡æœ¬è½¬æ¢ä¸ºè¯­éŸ³
   - å‚æ•°ï¼š`prompt` (è¦è½¬æ¢çš„æ–‡æœ¬)
   - è¿”å›ï¼šJSON æ ¼å¼ï¼ŒåŒ…å«ç”Ÿæˆçš„æ–‡æœ¬å’Œ base64 ç¼–ç çš„ MP3 éŸ³é¢‘

3. **`list_characters`** - åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„è§’è‰²
   - å‚æ•°ï¼šæ— 
   - è¿”å›ï¼šJSON æ ¼å¼çš„è§’è‰²åˆ—è¡¨

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜ï¼šMCP æœåŠ¡å™¨å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
cd /Users/herrk/dev-local/vibe-narrator/narrator-mcp
uv sync  # ç¡®ä¿ä¾èµ–å·²å®‰è£…
uv run python server.py  # æ‰‹åŠ¨æµ‹è¯•æœåŠ¡å™¨
```

### é—®é¢˜ï¼šæ‰¾ä¸åˆ° uv å‘½ä»¤

**è§£å†³æ–¹æ¡ˆï¼š**
- å®‰è£… uvï¼š`curl -LsSf https://astral.sh/uv/install.sh | sh`
- æˆ–è€…ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼š`/Users/herrk/.local/bin/uv`ï¼ˆæ ¹æ®å®é™…å®‰è£…ä½ç½®è°ƒæ•´ï¼‰

### é—®é¢˜ï¼šå·¥å…·è°ƒç”¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**
- æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—ï¼š`narrator-mcp/logs/narrator_*.log`
- è¿è¡Œæµ‹è¯•è„šæœ¬ï¼š`cd narrator-mcp && uv run python test_mcp_connection.py`

## ğŸ“ ä¸‹ä¸€æ­¥

é…ç½®å®Œæˆåï¼Œä½ å¯ä»¥ï¼š

1. åœ¨ Cursor ä¸­è®© Agent è°ƒç”¨ `list_characters` å·¥å…·
2. æµ‹è¯• `configure` å·¥å…·é…ç½® API å¯†é’¥
3. æµ‹è¯• `narrate` å·¥å…·ç”Ÿæˆè¯­éŸ³ï¼ˆéœ€è¦å…ˆé…ç½®ï¼‰




